<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cute-scrolling | webkaizen</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    	<main class="page">
				<div class="header">
					<p>Scroll To Reveal</p>
				  </div>
				  <div class="container">
					<div class="row" id="row-1">
					  <div class="col">
						<div class="img-container right">
						  <img src="assets/1.jpg" alt="" />
						  <p>Aiko Tanaka</p>
						</div>
					  </div>
					  <div class="col"></div>
					</div>
					<div class="row" id="row-2">
					  <div class="col"></div>
					  <div class="col">
						<div class="img-container left">
						  <img src="assets/2.png" alt="" />
						  <p>Yume Hoshino</p>
						</div>
					  </div>
					</div>
					<div class="row" id="row-3">
					  <div class="col">
						<div class="img-container right">
						  <img src="assets/3.jpg" alt="" />
						  <p>Hikari Mizuki</p>
						</div>
					  </div>
					  <div class="col"></div>
					</div>
					<div class="row" id="row-4">
					  <div class="col"></div>
					  <div class="col">
						<div class="img-container left">
						  <img src="assets/4.jpg" alt="" />
						  <p>Sakura Fujimoto</p>
						</div>
					  </div>
					</div>
					<div class="row" id="row-5">
					  <div class="col">
						<div class="img-container right">
						  <img src="assets/5.jpg" alt="" />
						  <p>Miyu Asakura</p>
						</div>
					  </div>
					  <div class="col"></div>
					</div>
					<div class="row" id="row-6">
					  <div class="col"></div>
					  <div class="col">
						<div class="img-container left">
						  <img src="assets/6.png" alt="" />
						  <p>Ayame Kurosawa</p>
						</div>
					  </div>
					</div>
					<div class="row" id="row-7">
					  <div class="col">
						<div class="img-container right">
						  <img src="assets/7.jpg" alt="" />
						  <p>Rin Shimizu</p>
						</div>
					  </div>
					  <div class="col"></div>
					</div>
					<div class="row" id="row-8">
					  <div class="col"></div>
					  <div class="col">
						<div class="img-container left">
						  <img src="assets/8.jpg" alt="" />
						  <p>Haruka Aihara</p>
						</div>
					  </div>
					</div>
					<div class="row" id="row-9">
					  <div class="col">
						<div class="img-container right">
						  <img src="assets/9.jpg" alt="" />
						  <p>Nanami Kato</p>
						</div>
					  </div>
					  <div class="col"></div>
					</div>
					<div class="row" id="row-10">
					  <div class="col"></div>
					  <div class="col">
						<div class="img-container left">
						  <img src="assets/10.jpg" alt="" />
						  <p>Kiyomi Nakahara</p>
						</div>
					  </div>
					</div>
					<div class="whitespace"></div>
				  </div>
			</main>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>

<script>
    
document.addEventListener("DOMContentLoaded", function () {
    function isInViewport(el) {
      const rect = el.getBoundingClientRect();
      return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <=
          (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <=
          (window.innerWidth || document.documentElement.clientWidth)
      );
    }

    const rows = document.querySelectorAll(".row");
    rows.forEach((row) => {
      if (isInViewport(row)) {
        const img = row.querySelector("img");
        if (row.querySelector(".left")) {
          gsap.to(img, {
            clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
          });
        } else {
          gsap.to(img, {
            clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
          });
        }
      }
    });

    gsap.utils.toArray(".img-container.right img").forEach((img) => {
      gsap.to(img, {
        clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
        scrollTrigger: {
          trigger: img,
          start: "top 75%",
          end: "bottom 70%",
          scrub: true,
        },
      });
    });

    gsap.utils.toArray(".img-container.left img").forEach((img) => {
      gsap.to(img, {
        clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
        scrollTrigger: {
          trigger: img,
          start: "top 75%",
          end: "bottom 70%",
          scrub: true,
        },
      });
    });

    gsap.utils.toArray(".img-container p").forEach((text) => {
      gsap.from(text, {
        opacity: 0,
        y: 20,
        scrollTrigger: {
          trigger: text,
          start: "top 90%",
          toggleActions: "play none none reverse",
        },
      });
    });
  });
</script>
</body>
</html>